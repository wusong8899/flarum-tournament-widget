{"version":3,"file":"forum.js","sources":["../src/forum/components/ParticipateModal.tsx","../src/forum/components/TournamentCard.tsx","../src/forum/components/Leaderboard.tsx","../src/forum/components/TournamentWidget.tsx","../src/forum/index.ts"],"sourcesContent":["import app from 'flarum/forum/app';\r\nimport Modal from 'flarum/common/components/Modal';\r\nimport Button from 'flarum/common/components/Button';\r\nimport { Vnode } from 'mithril';\r\n\r\nexport default class ParticipateModal extends Modal {\r\n  platformAccount: string = '';\r\n  loading: boolean = false;\r\n\r\n  className() {\r\n    return 'ParticipateModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return '参加活动';\r\n  }\r\n\r\n  content() {\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <label className=\"FormLabel\">平台账号</label>\r\n            <input\r\n              className=\"FormControl\"\r\n              type=\"text\"\r\n              placeholder=\"请输入您的平台账号\"\r\n              value={this.platformAccount}\r\n              oninput={(e: Event) => {\r\n                this.platformAccount = (e.target as HTMLInputElement).value;\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"Form-group\">\r\n            <Button\r\n              className=\"Button Button--primary\"\r\n              type=\"submit\"\r\n              loading={this.loading}\r\n              disabled={!this.platformAccount.trim()}\r\n              onclick={this.onsubmit.bind(this)}\r\n            >\r\n              提交\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e: Event) {\r\n    e.preventDefault();\r\n    \r\n    if (!this.platformAccount.trim()) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n\r\n    app.request({\r\n      method: 'POST',\r\n      url: app.forum.attribute('apiUrl') + '/tournament/participate',\r\n      body: {\r\n        data: {\r\n          attributes: {\r\n            platformAccount: this.platformAccount.trim()\r\n          }\r\n        }\r\n      }\r\n    }).then(\r\n      () => {\r\n        this.hide();\r\n        app.alerts.show('success', '参加成功！');\r\n        // Trigger a refresh of the tournament widget\r\n        m.redraw();\r\n      },\r\n      (error) => {\r\n        this.loading = false;\r\n        const errorMessage = error?.response?.errors?.[0]?.detail || '参加失败，请重试';\r\n        app.alerts.show('error', errorMessage);\r\n      }\r\n    );\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport ParticipateModal from './ParticipateModal';\r\nimport { Vnode } from 'mithril';\r\n\r\ninterface TournamentCardAttrs {\r\n  title: string;\r\n  prizePool: string;\r\n  detailsUrl: string;\r\n  backgroundImage: string;\r\n  timeElapsed: {\r\n    days: string;\r\n    hours: string;\r\n    mins: string;\r\n    secs: string;\r\n  };\r\n  userParticipated: boolean;\r\n  onParticipate: () => void;\r\n}\r\n\r\nexport default class TournamentCard extends Component<TournamentCardAttrs> {\r\n  view(vnode: Vnode<TournamentCardAttrs>) {\r\n    const { title, prizePool, detailsUrl, backgroundImage, timeElapsed, userParticipated, onParticipate } = vnode.attrs;\r\n\r\n    return (\r\n      <div className=\"TournamentCard\" style={{ backgroundImage: `url(${backgroundImage})` }}>\r\n        <a className=\"TournamentCard-detailsLink\" href={detailsUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          详情\r\n        </a>\r\n        <div className=\"TournamentCard-content\">\r\n          <div className=\"TournamentCard-title\">{title}</div>\r\n          <div className=\"TournamentCard-prizePool\">\r\n            <label>奖池</label>\r\n            <span>{prizePool}</span>\r\n          </div>\r\n          <div className=\"Timer\">\r\n            <label>开始于</label>\r\n            <div className=\"Timer-display\">\r\n              {timeElapsed.days}天 {timeElapsed.hours}:{timeElapsed.mins}:{timeElapsed.secs}\r\n            </div>\r\n          </div>\r\n          {!userParticipated && app.session.user && (\r\n            <Button \r\n              className=\"Button Button--primary TournamentCard-participateBtn\"\r\n              onclick={() => {\r\n                app.modal.show(ParticipateModal, {\r\n                  onParticipate: onParticipate\r\n                });\r\n              }}\r\n            >\r\n              立即参加\r\n            </Button>\r\n          )}\r\n          {userParticipated && (\r\n            <div className=\"TournamentCard-participated\">\r\n              <i className=\"fas fa-check-circle\"></i> 已参加\r\n            </div>\r\n          )}\r\n          {!app.session.user && (\r\n            <Button \r\n              className=\"Button Button--primary TournamentCard-participateBtn\"\r\n              onclick={() => app.route('login')}\r\n            >\r\n              登录参加\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport { Vnode } from 'mithril';\r\n\r\ninterface IParticipant {\r\n  id: string;\r\n  platformAccount: string;\r\n  score: number;\r\n  createdAt: string;\r\n  user: {\r\n    id: string;\r\n    username: string;\r\n    displayName: string;\r\n    avatarUrl: string;\r\n  };\r\n}\r\n\r\ninterface LeaderboardAttrs {\r\n  participants: IParticipant[];\r\n}\r\n\r\nexport default class Leaderboard extends Component<LeaderboardAttrs> {\r\n  showAll: boolean = false;\r\n\r\n  view(vnode: Vnode<LeaderboardAttrs>) {\r\n    const { participants } = vnode.attrs;\r\n    const rankingsToShow = this.showAll ? participants : participants.slice(0, 5);\r\n\r\n    return (\r\n      <div className=\"Leaderboard\">\r\n        <div className=\"Leaderboard-header\">\r\n          <h3>排行榜</h3>\r\n          <h4>积分</h4>\r\n        </div>\r\n        <ul className=\"Leaderboard-list\">\r\n          {rankingsToShow.length > 0 ? (\r\n            rankingsToShow.map((participant, index) => (\r\n              <li className={`Leaderboard-item rank-${index + 1}`} key={participant.id}>\r\n                <span className=\"Leaderboard-rank\">\r\n                  <i className={this.getRankIcon(index + 1)}></i> {index + 1}\r\n                </span>\r\n                <span className=\"Leaderboard-user\">\r\n                  <div className=\"username\">{participant.user.displayName}</div>\r\n                  <div className=\"prize\">\r\n                    <i className=\"fas fa-gem\"></i> {participant.score}\r\n                  </div>\r\n                </span>\r\n                <span className=\"Leaderboard-score\">{participant.score}</span>\r\n              </li>\r\n            ))\r\n          ) : (\r\n            <div className=\"Leaderboard-empty\">暂无参与者</div>\r\n          )}\r\n        </ul>\r\n        {!this.showAll && participants.length > 5 && (\r\n          <Button \r\n            className=\"Button Button--block Leaderboard-expandBtn\"\r\n            onclick={() => { \r\n              this.showAll = true; \r\n            }}\r\n          >\r\n            详情 (查看全部 {participants.length} 名)\r\n          </Button>\r\n        )}\r\n        {this.showAll && participants.length > 5 && (\r\n          <Button \r\n            className=\"Button Button--block Leaderboard-collapseBtn\"\r\n            onclick={() => { \r\n              this.showAll = false; \r\n            }}\r\n          >\r\n            收起\r\n          </Button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getRankIcon(rank: number): string {\r\n    if (rank === 1) return 'fas fa-crown rank-gold';\r\n    if (rank === 2) return 'fas fa-crown rank-silver';\r\n    if (rank === 3) return 'fas fa-crown rank-bronze';\r\n    return 'fas fa-medal';\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport TournamentCard from './TournamentCard';\r\nimport Leaderboard from './Leaderboard';\r\nimport { Vnode } from 'mithril';\r\n\r\ninterface IParticipant {\r\n  id: string;\r\n  platformAccount: string;\r\n  score: number;\r\n  createdAt: string;\r\n  user: {\r\n    id: string;\r\n    username: string;\r\n    displayName: string;\r\n    avatarUrl: string;\r\n  };\r\n}\r\n\r\ninterface ITournamentData {\r\n  title: string;\r\n  prizePool: string;\r\n  startDate: string;\r\n  detailsUrl: string;\r\n  backgroundImage: string;\r\n  userParticipated: boolean;\r\n  totalParticipants: number;\r\n  participants: IParticipant[];\r\n}\r\n\r\nfunction formatDuration(ms: number) {\r\n  const s = Math.floor(ms / 1000);\r\n  const m = Math.floor(s / 60);\r\n  const h = Math.floor(m / 60);\r\n  const d = Math.floor(h / 24);\r\n  return {\r\n    days: String(d).padStart(2, '0'),\r\n    hours: String(h % 24).padStart(2, '0'),\r\n    mins: String(m % 60).padStart(2, '0'),\r\n    secs: String(s % 60).padStart(2, '0'),\r\n  };\r\n}\r\n\r\nexport default class TournamentWidget extends Component {\r\n  loading: boolean = true;\r\n  tournamentData: ITournamentData | null = null;\r\n  timerInterval: number | null = null;\r\n  timeElapsed = { days: '00', hours: '00', mins: '00', secs: '00' };\r\n\r\n  oninit(vnode: Vnode) {\r\n    super.oninit(vnode);\r\n    this.loadData();\r\n  }\r\n\r\n  oncreate(vnode: Vnode) {\r\n    super.oncreate(vnode);\r\n    this.startTimer();\r\n  }\r\n\r\n  onremove(vnode: Vnode) {\r\n    super.onremove(vnode);\r\n    if (this.timerInterval) {\r\n      clearInterval(this.timerInterval);\r\n    }\r\n  }\r\n\r\n  view() {\r\n    if (this.loading) {\r\n      return (\r\n        <div className=\"TournamentWidget\">\r\n          <div className=\"TournamentWidget-loading\">\r\n            <LoadingIndicator />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!this.tournamentData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"TournamentWidget\">\r\n        <TournamentCard\r\n          title={this.tournamentData.title}\r\n          prizePool={this.tournamentData.prizePool}\r\n          detailsUrl={this.tournamentData.detailsUrl}\r\n          backgroundImage={this.tournamentData.backgroundImage}\r\n          timeElapsed={this.timeElapsed}\r\n          userParticipated={this.tournamentData.userParticipated}\r\n          onParticipate={() => this.loadData()}\r\n        />\r\n        <Leaderboard \r\n          participants={this.tournamentData.participants}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  startTimer() {\r\n    if (!this.tournamentData?.startDate) return;\r\n    \r\n    const startDate = new Date(this.tournamentData.startDate);\r\n    \r\n    this.timerInterval = setInterval(() => {\r\n      const diff = new Date().getTime() - startDate.getTime();\r\n      if (diff > 0) {\r\n        this.timeElapsed = formatDuration(diff);\r\n        m.redraw();\r\n      }\r\n    }, 1000) as unknown as number;\r\n  }\r\n\r\n  loadData() {\r\n    this.loading = true;\r\n    \r\n    return app.request({\r\n      method: 'GET',\r\n      url: app.forum.attribute('apiUrl') + '/tournament',\r\n    }).then((response: any) => {\r\n      this.tournamentData = {\r\n        title: response.data.attributes.title,\r\n        prizePool: response.data.attributes.prizePool,\r\n        startDate: response.data.attributes.startDate,\r\n        detailsUrl: response.data.attributes.detailsUrl,\r\n        backgroundImage: response.data.attributes.backgroundImage,\r\n        userParticipated: response.data.attributes.userParticipated,\r\n        totalParticipants: response.data.attributes.totalParticipants,\r\n        participants: response.data.attributes.participants || []\r\n      };\r\n      this.loading = false;\r\n      \r\n      // Start timer after data is loaded\r\n      if (!this.timerInterval) {\r\n        this.startTimer();\r\n      }\r\n      \r\n      m.redraw();\r\n    }).catch((error: any) => {\r\n      this.loading = false;\r\n      console.error('Failed to load tournament data:', error);\r\n      m.redraw();\r\n    });\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport { extend } from 'flarum/common/extend';\r\nimport TournamentWidget from './components/TournamentWidget';\r\nimport TagsPage from 'flarum/tags/forum/components/TagsPage';\r\n\r\napp.initializers.add('wusong8899-tournament-widget', () => {\r\n\r\n  if (TagsPage) {\r\n    extend(TagsPage.prototype, 'content', function (vnode) {\r\n      const children = vnode.children;\r\n      if (!Array.isArray(children)) return;\r\n\r\n      // Find the user-submission-widget-dynamic element\r\n      const targetIndex = children.findIndex(\r\n        (child) => child?.attrs?.className?.includes('user-submission-widget-dynamic')\r\n      );\r\n\r\n      if (targetIndex > -1) {\r\n        // Insert the tournament widget after the target element\r\n        children.splice(targetIndex + 1, 0, m(TournamentWidget));\r\n      }\r\n    });\r\n  } else {\r\n    console.warn('TagsPage not found - tournament widget will not be injected');\r\n  }\r\n});"],"names":["ParticipateModal","Modal","e","Button","app","error","errorMessage","_c","_b","_a","TournamentCard","Component","vnode","title","prizePool","detailsUrl","backgroundImage","timeElapsed","userParticipated","onParticipate","Leaderboard","participants","rankingsToShow","participant","index","rank","formatDuration","ms","s","m","h","d","TournamentWidget","LoadingIndicator","startDate","diff","response","TagsPage","extend","children","targetIndex","child"],"mappings":"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"}