{"version":3,"file":"forum.js","sources":["../src/forum/components/PlatformIcon.tsx","../src/forum/components/PlatformSelector.tsx","../src/forum/components/ParticipateModal.tsx","../src/forum/components/TournamentCard.tsx","../src/forum/components/Leaderboard.tsx","../src/forum/components/TournamentWidget.tsx","../src/forum/index.ts"],"sourcesContent":["import icon from 'flarum/common/helpers/icon';\r\nimport type { TournamentPlatform } from '../types';\r\n\r\ninterface PlatformIconProps {\r\n  platform: TournamentPlatform | null;\r\n  size?: 'small' | 'medium' | 'large';\r\n}\r\n\r\nexport default class PlatformIcon {\r\n  view({ attrs }: { attrs: PlatformIconProps }) {\r\n    const { platform, size = 'medium' } = attrs;\r\n    \r\n    if (!platform) {\r\n      return icon('fas fa-gamepad', { className: `PlatformIcon PlatformIcon--${size}` });\r\n    }\r\n\r\n    const className = `PlatformIcon PlatformIcon--${size}`;\r\n\r\n    // Use image URL if available\r\n    if (platform.iconUrl) {\r\n      return (\r\n        <img \r\n          src={platform.iconUrl}\r\n          alt={platform.name}\r\n          className={className}\r\n        />\r\n      );\r\n    }\r\n\r\n    // Use FontAwesome class if available\r\n    if (platform.iconClass) {\r\n      return icon(platform.iconClass, { className });\r\n    }\r\n\r\n    // Fallback to generic gamepad icon\r\n    return icon('fas fa-gamepad', { className });\r\n  }\r\n}","import Component from 'flarum/common/Component';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport type Mithril from 'mithril';\r\nimport type { TournamentPlatform } from '../types';\r\nimport PlatformIcon from './PlatformIcon';\r\n\r\ninterface PlatformSelectorProps {\r\n  platforms: TournamentPlatform[];\r\n  selectedPlatform: TournamentPlatform | null;\r\n  onPlatformSelect: (platform: TournamentPlatform) => void;\r\n}\r\n\r\ninterface PlatformSelectorState {\r\n  showDropdown: boolean;\r\n}\r\n\r\nexport default class PlatformSelector extends Component<PlatformSelectorProps, PlatformSelectorState> {\r\n  oninit(vnode: Mithril.Vnode<PlatformSelectorProps, PlatformSelectorState>) {\r\n    super.oninit(vnode);\r\n    this.state = {\r\n      showDropdown: false,\r\n    };\r\n  }\r\n\r\n  view(): Mithril.Children {\r\n    const { selectedPlatform } = this.attrs;\r\n    const { showDropdown } = this.state;\r\n\r\n    return (\r\n      <div className=\"TournamentPlatformSelector\">\r\n        <div className=\"TournamentPlatformSelector-label\">游戏平台</div>\r\n        <div \r\n          className=\"TournamentPlatformSelector-dropdown\" \r\n          onclick={() => this.toggleDropdown()}\r\n        >\r\n          <div className=\"TournamentPlatformSelector-selected\">\r\n            <div className=\"TournamentPlatformSelector-info\">\r\n              <div className=\"TournamentPlatformSelector-icon\">\r\n                <PlatformIcon \r\n                  platform={selectedPlatform} \r\n                  size=\"medium\"\r\n                />\r\n              </div>\r\n              <div className=\"TournamentPlatformSelector-details\">\r\n                <div className=\"TournamentPlatformSelector-name\">\r\n                  {this.getPlatformName(selectedPlatform)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {icon('fas fa-chevron-down', { className: 'TournamentPlatformSelector-dropdownIcon' })}\r\n        </div>\r\n\r\n        {showDropdown && this.renderPlatformDropdown()}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private toggleDropdown(): void {\r\n    this.state.showDropdown = !this.state.showDropdown;\r\n  }\r\n\r\n  private getPlatformName(platform: TournamentPlatform | null): string {\r\n    if (!platform) {\r\n      return '请选择游戏平台';\r\n    }\r\n    return platform.name || '请选择游戏平台';\r\n  }\r\n\r\n  private renderPlatformDropdown(): Mithril.Children {\r\n    const { platforms } = this.attrs;\r\n\r\n    if (!platforms || platforms.length === 0) {\r\n      return (\r\n        <div className=\"TournamentPlatformSelector-dropdownMenu\">\r\n          <div className=\"TournamentPlatformSelector-dropdownItem TournamentPlatformSelector-noData\">\r\n            暂无可选平台\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"TournamentPlatformSelector-dropdownMenu\">\r\n        {platforms.map(platform => (\r\n          <div \r\n            key={platform.id}\r\n            className=\"TournamentPlatformSelector-dropdownItem\"\r\n            onclick={() => this.selectPlatform(platform)}\r\n          >\r\n            <div className=\"TournamentPlatformSelector-icon\">\r\n              <PlatformIcon platform={platform} size=\"small\" />\r\n            </div>\r\n            <div className=\"TournamentPlatformSelector-name\">\r\n              {platform.name}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  private selectPlatform(platform: TournamentPlatform): void {\r\n    const { onPlatformSelect } = this.attrs;\r\n    \r\n    onPlatformSelect(platform);\r\n    this.state.showDropdown = false;\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport Modal from 'flarum/common/components/Modal';\r\nimport Button from 'flarum/common/components/Button';\r\nimport m from 'mithril';\r\nimport { Vnode } from 'mithril';\r\nimport PlatformSelector from './PlatformSelector';\r\nimport type { TournamentPlatform } from '../types';\r\n\r\ninterface ParticipateModalAttrs {\r\n  onParticipate?: () => void;\r\n}\r\n\r\nexport default class ParticipateModal extends Modal<ParticipateModalAttrs> {\r\n  platformAccount: string = '';\r\n  platformUsername: string = '';\r\n  selectedPlatform: TournamentPlatform | null = null;\r\n  platforms: TournamentPlatform[] = [];\r\n  loading: boolean = false;\r\n  loadingPlatforms: boolean = true;\r\n\r\n  oninit(vnode: Vnode<ParticipateModalAttrs>) {\r\n    super.oninit(vnode);\r\n    this.loadPlatforms();\r\n  }\r\n\r\n  className() {\r\n    return 'ParticipateModal Modal--small';\r\n  }\r\n\r\n  title() {\r\n    return app.translator.trans('wusong8899-tournament-widget.forum.participate_modal.title');\r\n  }\r\n\r\n  content() {\r\n    if (this.loadingPlatforms) {\r\n      return (\r\n        <div className=\"Modal-body\">\r\n          <div className=\"LoadingIndicator\"></div>\r\n          <p>加载平台信息中...</p>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"Modal-body\">\r\n        <div className=\"Form\">\r\n          <div className=\"Form-group\">\r\n            <PlatformSelector\r\n              platforms={this.platforms}\r\n              selectedPlatform={this.selectedPlatform}\r\n              onPlatformSelect={(platform) => this.onPlatformSelect(platform)}\r\n            />\r\n          </div>\r\n          <div className=\"Form-group\">\r\n            <label className=\"FormLabel\">平台用户名</label>\r\n            <input\r\n              className=\"FormControl\"\r\n              type=\"text\"\r\n              placeholder=\"请输入您在该平台的用户名\"\r\n              value={this.platformUsername}\r\n              oninput={(e: Event) => {\r\n                this.platformUsername = (e.target as HTMLInputElement).value;\r\n              }}\r\n            />\r\n          </div>\r\n          <div className=\"Form-group\">\r\n            <Button\r\n              className=\"Button Button--primary\"\r\n              type=\"submit\"\r\n              loading={this.loading}\r\n              disabled={!this.selectedPlatform || !this.platformUsername.trim()}\r\n              onclick={this.onsubmit.bind(this)}\r\n            >\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.participate_modal.submit')}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  onsubmit(e: Event) {\r\n    e.preventDefault();\r\n    \r\n    if (!this.selectedPlatform || !this.platformUsername.trim()) {\r\n      return;\r\n    }\r\n\r\n    this.loading = true;\r\n\r\n    app.request({\r\n      method: 'POST',\r\n      url: app.forum.attribute('apiUrl') + '/tournament/participate',\r\n      body: {\r\n        data: {\r\n          attributes: {\r\n            platformId: this.selectedPlatform.id,\r\n            platformUsername: this.platformUsername.trim(),\r\n            // Keep legacy field for backward compatibility\r\n            platformAccount: this.platformUsername.trim()\r\n          }\r\n        }\r\n      }\r\n    }).then(\r\n      () => {\r\n        this.hide();\r\n        app.alerts.show('success', app.translator.trans('wusong8899-tournament-widget.forum.participate_modal.success'));\r\n        // Trigger a refresh of the tournament widget\r\n        this.attrs.onParticipate?.();\r\n      },\r\n      (error) => {\r\n        this.loading = false;\r\n        const errorMessage = error?.response?.errors?.[0]?.detail || app.translator.trans('wusong8899-tournament-widget.forum.participate_modal.error');\r\n        app.alerts.show('error', errorMessage);\r\n      }\r\n    );\r\n  }\r\n\r\n  private loadPlatforms() {\r\n    app.request({\r\n      method: 'GET',\r\n      url: app.forum.attribute('apiUrl') + '/tournament/platforms'\r\n    }).then(\r\n      (response: any) => {\r\n        this.platforms = response.data.map((platform: any) => ({\r\n          id: platform.id,\r\n          name: platform.attributes.name,\r\n          iconUrl: platform.attributes.iconUrl,\r\n          iconClass: platform.attributes.iconClass,\r\n          isActive: platform.attributes.isActive,\r\n          displayOrder: platform.attributes.displayOrder\r\n        }));\r\n        this.loadingPlatforms = false;\r\n        m.redraw();\r\n      },\r\n      (error) => {\r\n        console.error('Failed to load platforms:', error);\r\n        this.loadingPlatforms = false;\r\n        app.alerts.show('error', '加载平台信息失败');\r\n        m.redraw();\r\n      }\r\n    );\r\n  }\r\n\r\n  private onPlatformSelect(platform: TournamentPlatform) {\r\n    this.selectedPlatform = platform;\r\n    // Clear username when switching platforms\r\n    this.platformUsername = '';\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport ParticipateModal from './ParticipateModal';\r\nimport { Vnode } from 'mithril';\r\n\r\ninterface TournamentCardAttrs {\r\n  title: string;\r\n  prizePool: string;\r\n  detailsUrl: string;\r\n  backgroundImage: string;\r\n  timeElapsed: {\r\n    days: string;\r\n    hours: string;\r\n    mins: string;\r\n    secs: string;\r\n  };\r\n  userParticipated: boolean;\r\n  onParticipate: () => void;\r\n}\r\n\r\nexport default class TournamentCard extends Component<TournamentCardAttrs> {\r\n  view(vnode: Vnode<TournamentCardAttrs>) {\r\n    const { title, prizePool, detailsUrl, backgroundImage, timeElapsed, userParticipated, onParticipate } = vnode.attrs;\r\n\r\n    return (\r\n      <div className=\"TournamentCard\" style={{ backgroundImage: `url(${backgroundImage})` }}>\r\n        <a className=\"TournamentCard-detailsLink\" href={detailsUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n          {app.translator.trans('wusong8899-tournament-widget.forum.tournament.details')}\r\n        </a>\r\n        <div className=\"TournamentCard-content\">\r\n          <div className=\"TournamentCard-title\">{title}</div>\r\n          <div className=\"TournamentCard-prizePool\">\r\n            <label>{app.translator.trans('wusong8899-tournament-widget.forum.tournament.prize_pool')}</label>\r\n            <span>{prizePool}</span>\r\n          </div>\r\n          <div className=\"Timer\">\r\n            <label>{app.translator.trans('wusong8899-tournament-widget.forum.tournament.started_at')}</label>\r\n            <div className=\"Timer-display\">\r\n              {timeElapsed.days}天 {timeElapsed.hours}:{timeElapsed.mins}:{timeElapsed.secs}\r\n            </div>\r\n          </div>\r\n          {!userParticipated && app.session.user && (\r\n            <Button \r\n              className=\"Button Button--primary TournamentCard-participateBtn\"\r\n              onclick={() => {\r\n                app.modal.show(ParticipateModal, {\r\n                  onParticipate: onParticipate\r\n                });\r\n              }}\r\n            >\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.tournament.participate_now')}\r\n            </Button>\r\n          )}\r\n          {userParticipated && (\r\n            <div className=\"TournamentCard-participated\">\r\n              <i className=\"fas fa-check-circle\"></i> {app.translator.trans('wusong8899-tournament-widget.forum.tournament.participated')}\r\n            </div>\r\n          )}\r\n          {!app.session.user && (\r\n            <Button \r\n              className=\"Button Button--primary TournamentCard-participateBtn\"\r\n              onclick={() => app.route('login')}\r\n            >\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.tournament.login_to_participate')}\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport Button from 'flarum/common/components/Button';\r\nimport { Vnode } from 'mithril';\r\n\r\ninterface IParticipant {\r\n  id: string;\r\n  rank: number;\r\n  title: string;\r\n  score: number;\r\n  createdAt: string;\r\n  user: {\r\n    id: string;\r\n    username: string;\r\n    displayName: string;\r\n    avatarUrl: string;\r\n  };\r\n  platform: {\r\n    id: number | null;\r\n    name: string;\r\n    username: string;\r\n    iconUrl: string | null;\r\n    iconClass: string | null;\r\n    usesUrlIcon: boolean;\r\n    usesCssIcon: boolean;\r\n  };\r\n  platformAccount: string; // Legacy field for backward compatibility\r\n}\r\n\r\ninterface LeaderboardAttrs {\r\n  participants: IParticipant[];\r\n}\r\n\r\nexport default class Leaderboard extends Component<LeaderboardAttrs> {\r\n  showAll: boolean = false;\r\n\r\n  view(vnode: Vnode<LeaderboardAttrs>) {\r\n    const { participants } = vnode.attrs;\r\n    const rankingsToShow = this.showAll ? participants : participants.slice(0, 5);\r\n\r\n    return (\r\n      <div className=\"Leaderboard\">\r\n        <div className=\"Leaderboard-header\">\r\n          <div className=\"Leaderboard-headerRow\">\r\n            <div className=\"Leaderboard-headerCell rank\">\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.rank')}\r\n            </div>\r\n            <div className=\"Leaderboard-headerCell title\">\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.rank_title')}\r\n            </div>\r\n            <div className=\"Leaderboard-headerCell user\">\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.user')}\r\n            </div>\r\n            <div className=\"Leaderboard-headerCell platform\">\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.platform')}\r\n            </div>\r\n            <div className=\"Leaderboard-headerCell score\">\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.score')}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"Leaderboard-list\">\r\n          {rankingsToShow.length > 0 ? (\r\n            rankingsToShow.map((participant) => (\r\n              <div className={`Leaderboard-item rank-${participant.rank}`} key={participant.id}>\r\n                <div className=\"Leaderboard-cell rank\">\r\n                  <i className={this.getRankIcon(participant.rank)}></i>\r\n                  <span className=\"rank-number\">{participant.rank}</span>\r\n                </div>\r\n                <div className=\"Leaderboard-cell title\">\r\n                  <span className=\"title-text\">{participant.title}</span>\r\n                </div>\r\n                <div className=\"Leaderboard-cell user\">\r\n                  <div className=\"user-info\">\r\n                    {participant.user.avatarUrl && (\r\n                      <img \r\n                        className=\"user-avatar\" \r\n                        src={participant.user.avatarUrl} \r\n                        alt={participant.user.displayName}\r\n                      />\r\n                    )}\r\n                    <span className=\"user-name\">{participant.user.displayName}</span>\r\n                  </div>\r\n                </div>\r\n                <div className=\"Leaderboard-cell platform\">\r\n                  <div className=\"platform-info\">\r\n                    {this.renderPlatformIcon(participant.platform)}\r\n                    <div className=\"platform-details\">\r\n                      <div className=\"platform-name\">{participant.platform.name}</div>\r\n                      <div className=\"platform-username\">{participant.platform.username}</div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"Leaderboard-cell score\">\r\n                  <span className=\"score-amount\">{participant.score}</span>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"Leaderboard-empty\">\r\n              {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.no_participants')}\r\n            </div>\r\n          )}\r\n        </div>\r\n        {!this.showAll && participants.length > 5 && (\r\n          <Button \r\n            className=\"Button Button--block Leaderboard-expandBtn\"\r\n            onclick={() => { \r\n              this.showAll = true; \r\n            }}\r\n          >\r\n            {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.view_all', { count: participants.length })}\r\n          </Button>\r\n        )}\r\n        {this.showAll && participants.length > 5 && (\r\n          <Button \r\n            className=\"Button Button--block Leaderboard-collapseBtn\"\r\n            onclick={() => { \r\n              this.showAll = false; \r\n            }}\r\n          >\r\n            {app.translator.trans('wusong8899-tournament-widget.forum.leaderboard.collapse')}\r\n          </Button>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  getRankIcon(rank: number): string {\r\n    if (rank === 1) return 'fas fa-crown rank-gold';\r\n    if (rank === 2) return 'fas fa-crown rank-silver';\r\n    if (rank === 3) return 'fas fa-crown rank-bronze';\r\n    return 'fas fa-medal';\r\n  }\r\n\r\n  renderPlatformIcon(platform: IParticipant['platform']) {\r\n    if (platform.usesUrlIcon && platform.iconUrl) {\r\n      return (\r\n        <img \r\n          className=\"platform-icon image-icon\" \r\n          src={platform.iconUrl} \r\n          alt={platform.name}\r\n        />\r\n      );\r\n    } else if (platform.usesCssIcon && platform.iconClass) {\r\n      return <i className={`platform-icon css-icon ${platform.iconClass}`}></i>;\r\n    } else {\r\n      // Default platform icon\r\n      return <i className=\"platform-icon css-icon fas fa-gamepad\"></i>;\r\n    }\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport Component from 'flarum/common/Component';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport m from 'mithril';\r\nimport TournamentCard from './TournamentCard';\r\nimport Leaderboard from './Leaderboard';\r\nimport { Vnode } from 'mithril';\r\n\r\ninterface IParticipant {\r\n  id: string;\r\n  rank: number;\r\n  title: string;\r\n  score: number;\r\n  createdAt: string;\r\n  user: {\r\n    id: string;\r\n    username: string;\r\n    displayName: string;\r\n    avatarUrl: string;\r\n  };\r\n  platform: {\r\n    id: number | null;\r\n    name: string;\r\n    username: string;\r\n    iconUrl: string | null;\r\n    iconClass: string | null;\r\n    usesUrlIcon: boolean;\r\n    usesCssIcon: boolean;\r\n  };\r\n  platformAccount: string; // Legacy field for backward compatibility\r\n}\r\n\r\ninterface ITournamentData {\r\n  title: string;\r\n  prizePool: string;\r\n  startDate: string;\r\n  detailsUrl: string;\r\n  backgroundImage: string;\r\n  userParticipated: boolean;\r\n  totalParticipants: number;\r\n  participants: IParticipant[];\r\n}\r\n\r\nfunction formatDuration(ms: number) {\r\n  const s = Math.floor(ms / 1000);\r\n  const m = Math.floor(s / 60);\r\n  const h = Math.floor(m / 60);\r\n  const d = Math.floor(h / 24);\r\n  return {\r\n    days: String(d).padStart(2, '0'),\r\n    hours: String(h % 24).padStart(2, '0'),\r\n    mins: String(m % 60).padStart(2, '0'),\r\n    secs: String(s % 60).padStart(2, '0'),\r\n  };\r\n}\r\n\r\nexport default class TournamentWidget extends Component {\r\n  loading: boolean = true;\r\n  tournamentData: ITournamentData | null = null;\r\n  timerInterval: number | null = null;\r\n  animationFrame: number | null = null;\r\n  timeElapsed = { days: '00', hours: '00', mins: '00', secs: '00' };\r\n  lastUpdateTime: number = 0;\r\n\r\n  oninit(vnode: Vnode) {\r\n    super.oninit(vnode);\r\n    this.loadData();\r\n  }\r\n\r\n  oncreate(vnode: Vnode) {\r\n    super.oncreate(vnode);\r\n    this.startTimer();\r\n  }\r\n\r\n  onremove(vnode: Vnode) {\r\n    super.onremove(vnode);\r\n    if (this.timerInterval) {\r\n      clearInterval(this.timerInterval);\r\n    }\r\n    if (this.animationFrame) {\r\n      cancelAnimationFrame(this.animationFrame);\r\n    }\r\n  }\r\n\r\n  view() {\r\n    if (this.loading) {\r\n      return (\r\n        <div className=\"TournamentWidget\">\r\n          <div className=\"TournamentWidget-loading\">\r\n            <LoadingIndicator />\r\n          </div>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    if (!this.tournamentData) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"TournamentWidget\">\r\n        <div className=\"TournamentHeader\">\r\n          <img \r\n            className=\"TournamentHeader-image\" \r\n            src=\"https://i.mji.rip/2025/08/23/678aa40f68db12909bb4a4871d603876.webp\" \r\n            alt=\"Tournament\"\r\n          />\r\n          <span className=\"TournamentHeader-title\">老哥榜</span>\r\n        </div>\r\n        <TournamentCard\r\n          title={this.tournamentData.title}\r\n          prizePool={this.tournamentData.prizePool}\r\n          detailsUrl={this.tournamentData.detailsUrl}\r\n          backgroundImage={this.tournamentData.backgroundImage}\r\n          timeElapsed={this.timeElapsed}\r\n          userParticipated={this.tournamentData.userParticipated}\r\n          onParticipate={() => this.loadData()}\r\n        />\r\n        <Leaderboard \r\n          participants={this.tournamentData.participants}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  startTimer() {\r\n    if (!this.tournamentData?.startDate) return;\r\n    \r\n    const startDate = new Date(this.tournamentData.startDate);\r\n    this.lastUpdateTime = Date.now();\r\n    \r\n    const updateTimer = () => {\r\n      const now = Date.now();\r\n      // Only update every second, not on every frame\r\n      if (now - this.lastUpdateTime >= 1000) {\r\n        const diff = now - startDate.getTime();\r\n        if (diff > 0) {\r\n          this.timeElapsed = formatDuration(diff);\r\n          this.lastUpdateTime = now;\r\n          m.redraw();\r\n        }\r\n      }\r\n      this.animationFrame = requestAnimationFrame(updateTimer);\r\n    };\r\n    \r\n    this.animationFrame = requestAnimationFrame(updateTimer);\r\n  }\r\n\r\n  loadData() {\r\n    this.loading = true;\r\n    \r\n    return app.request({\r\n      method: 'GET',\r\n      url: app.forum.attribute('apiUrl') + '/tournament',\r\n    }).then((response: any) => {\r\n      this.tournamentData = {\r\n        title: response.data.attributes.title,\r\n        prizePool: response.data.attributes.prizePool,\r\n        startDate: response.data.attributes.startDate,\r\n        detailsUrl: response.data.attributes.detailsUrl,\r\n        backgroundImage: response.data.attributes.backgroundImage,\r\n        userParticipated: response.data.attributes.userParticipated,\r\n        totalParticipants: response.data.attributes.totalParticipants,\r\n        participants: response.data.attributes.participants || []\r\n      };\r\n      this.loading = false;\r\n      \r\n      // Start timer after data is loaded\r\n      if (!this.timerInterval) {\r\n        this.startTimer();\r\n      }\r\n      \r\n      m.redraw();\r\n    }).catch((error: any) => {\r\n      this.loading = false;\r\n      console.error('Failed to load tournament data:', error);\r\n      m.redraw();\r\n    });\r\n  }\r\n}","import app from 'flarum/forum/app';\r\nimport { extend } from 'flarum/common/extend';\r\nimport m from 'mithril';\r\nimport TournamentWidget from './components/TournamentWidget';\r\nimport TagsPage from 'flarum/tags/forum/components/TagsPage';\r\n\r\napp.initializers.add('wusong8899-tournament-widget', () => {\r\n\r\n  if (TagsPage) {\r\n    extend(TagsPage.prototype, 'content', function (vnode) {\r\n      const children = vnode.children;\r\n      if (!Array.isArray(children)) return;\r\n\r\n      // Always add tournament widget at the end of the content\r\n      children.push(m(TournamentWidget));\r\n    });\r\n  } else {\r\n    console.warn('TagsPage not found - tournament widget will not be injected');\r\n  }\r\n});"],"names":["PlatformIcon","attrs","platform","size","icon","className","PlatformSelector","Component","vnode","selectedPlatform","showDropdown","platforms","onPlatformSelect","ParticipateModal","Modal","app","m","e","Button","_b","_a","error","errorMessage","_c","response","TournamentCard","title","prizePool","detailsUrl","backgroundImage","timeElapsed","userParticipated","onParticipate","Leaderboard","participants","rankingsToShow","participant","rank","formatDuration","ms","s","h","d","TournamentWidget","LoadingIndicator","startDate","updateTimer","now","diff","TagsPage","extend","children"],"mappings":"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"}